import{s as et,n as B,d as it,a as V,e as F}from"../chunks/scheduler.CrsDffe0.js";import{S as at,i as lt,e as x,l as U,s as y,f as $,n as O,o as A,k as f,h as L,v as D,j as m,p as w,A as ft,q as G,B as I,c as nt,a as ot,m as rt,t as st,b as ct,d as dt,g as M}from"../chunks/index.DSWBlzAv.js";import{g as ut,a as J}from"../chunks/spread.CgU5AtxT.js";import{P as _t}from"../chunks/Page.C5XZG_Jg.js";import{e as H,t as mt}from"../chunks/Footer.DvxDdKVu.js";import{p as ht}from"../chunks/metadata.CRTDKNbY.js";function K(i,t,c){const o=i.slice();return o[4]=t[c],o}function Q(i,t,c){const o=i.slice();return o[7]=t[c],o}function W(i,t,c){const o=i.slice();return o[10]=t[c],o}function X(i){let t,c=i[10]+"",o;return{c(){t=x("th"),o=U(c)},l(a){t=$(a,"TH",{});var e=O(t);o=A(e,c),e.forEach(f)},m(a,e){m(a,t,e),w(t,o)},p:B,d(a){a&&f(t)}}}function Y(i){let t,c=i[7]+"",o;return{c(){t=x("td"),o=U(c)},l(a){t=$(a,"TD",{});var e=O(t);o=A(e,c),e.forEach(f)},m(a,e){m(a,t,e),w(t,o)},p:B,d(a){a&&f(t)}}}function Z(i){let t,c,o=H(Object.values(i[4])),a=[];for(let e=0;e<o.length;e+=1)a[e]=Y(Q(i,o,e));return{c(){t=x("tr");for(let e=0;e<a.length;e+=1)a[e].c();c=y()},l(e){t=$(e,"TR",{});var d=O(t);for(let l=0;l<a.length;l+=1)a[l].l(d);c=L(d),d.forEach(f)},m(e,d){m(e,t,d);for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(t,null);w(t,c)},p(e,d){if(d&2){o=H(Object.values(e[4]));let l;for(l=0;l<o.length;l+=1){const h=Q(e,o,l);a[l]?a[l].p(h,d):(a[l]=Y(h),a[l].c(),a[l].m(t,c))}for(;l<a.length;l+=1)a[l].d(1);a.length=o.length}},d(e){e&&f(t),I(a,e)}}}function pt(i){let t,c=i[0].metadataTable+"",o,a,e,d,l,h,p,u,k,b=i[0].download+"",C,q,P,j,T=H(Object.keys(i[1][0])),n=[];for(let r=0;r<T.length;r+=1)n[r]=X(W(i,T,r));let _=H(i[1]),g=[];for(let r=0;r<_.length;r+=1)g[r]=Z(K(i,_,r));return{c(){t=x("h2"),o=U(c),a=y(),e=x("div"),d=x("table"),l=x("tr");for(let r=0;r<n.length;r+=1)n[r].c();h=y();for(let r=0;r<g.length;r+=1)g[r].c();p=y(),u=x("div"),k=x("button"),C=U(b),q=U(" CSV"),this.h()},l(r){t=$(r,"H2",{});var v=O(t);o=A(v,c),v.forEach(f),a=L(r),e=$(r,"DIV",{class:!0});var s=O(e);d=$(s,"TABLE",{class:!0});var E=O(d);l=$(E,"TR",{});var N=O(l);for(let R=0;R<n.length;R+=1)n[R].l(N);N.forEach(f),h=L(E);for(let R=0;R<g.length;R+=1)g[R].l(E);E.forEach(f),s.forEach(f),p=L(r),u=$(r,"DIV",{class:!0});var z=O(u);k=$(z,"BUTTON",{class:!0});var S=O(k);C=A(S,b),q=A(S," CSV"),S.forEach(f),z.forEach(f),this.h()},h(){D(d,"class","metadata-table"),D(e,"class","metadata-table-container svelte-1akrh8d"),D(k,"class","default-button"),D(u,"class","button-container")},m(r,v){m(r,t,v),w(t,o),m(r,a,v),m(r,e,v),w(e,d),w(d,l);for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(l,null);w(d,h);for(let s=0;s<g.length;s+=1)g[s]&&g[s].m(d,null);m(r,p,v),m(r,u,v),w(u,k),w(k,C),w(k,q),P||(j=ft(k,"click",i[2]),P=!0)},p(r,[v]){if(v&1&&c!==(c=r[0].metadataTable+"")&&G(o,c),v&2){T=H(Object.keys(r[1][0]));let s;for(s=0;s<T.length;s+=1){const E=W(r,T,s);n[s]?n[s].p(E,v):(n[s]=X(E),n[s].c(),n[s].m(l,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=T.length}if(v&2){_=H(r[1]);let s;for(s=0;s<_.length;s+=1){const E=K(r,_,s);g[s]?g[s].p(E,v):(g[s]=Z(E),g[s].c(),g[s].m(d,null))}for(;s<g.length;s+=1)g[s].d(1);g.length=_.length}v&1&&b!==(b=r[0].download+"")&&G(C,b)},i:B,o:B,d(r){r&&(f(t),f(a),f(e),f(p),f(u)),I(n,r),I(g,r),P=!1,j()}}}function gt(i,t,c){let o;it(i,mt,l=>c(0,o=l));let{metadata:a=ht}=t;const e=a.map(l=>{const h={};for(let[p,u]of Object.entries(l))/^_/.test(p)||(h[p]=u);return h});function d(){const l=",";let h=[Object.keys(e[0]).join(l)];for(let k of e)h.push(Object.values(k).map(b=>new RegExp(`${l}`).test(b)?`"${b}"`:b).join(l));h=h.join(`
`);const p=document.createElement("a"),u=new Blob([h],{type:"text/plain"});p.href=URL.createObjectURL(u),p.download="metadata.csv",p.click(),URL.revokeObjectURL(p.href)}return i.$$set=l=>{"metadata"in l&&c(3,a=l.metadata)},[o,e,d,a]}class vt extends at{constructor(t){super(),lt(this,t,gt,pt,et,{metadata:3})}}function bt(i){let t,c="Metadatos",o,a,e="En esta sección se encuentran los metadatos de la colección. Pueden descargarse y usarse libremente.",d,l,h="Protocolo",p,u,k="Este es el protocolo que especifica la construcción de los datos de la colección:",b,C,q="<thead><tr><th>Dato</th> <th>Descripción</th> <th>Tipo</th></tr></thead> <tbody><tr><td>pid</td> <td>Identificador único</td> <td>categórico</td></tr> <tr><td>creator</td> <td>Nombre de la persona que creó la imagen</td> <td>ordinal</td></tr> <tr><td>label</td> <td>Nombre de la imagen.</td> <td>categórico</td></tr> <tr><td>fecha</td> <td>Año aproximado de creación de la imagen</td> <td>ordinal</td></tr> <tr><td>medium</td> <td>Técnica utilizada para crear la imagen</td> <td>categórico</td></tr> <tr><td>location</td> <td>Ubicación del glaciar representado en la imagen</td> <td>categórico</td></tr> <tr><td>type</td> <td>Tipo de cuerpo geológico representado en la imagen</td> <td>categórico</td></tr> <tr><td>altitude</td> <td>Altitud de la montaña donde ha existido el glaciar</td> <td>categórico</td></tr></tbody>",P,j,T;return j=new vt({}),{c(){t=x("h1"),t.textContent=c,o=y(),a=x("p"),a.textContent=e,d=y(),l=x("h2"),l.textContent=h,p=y(),u=x("p"),u.textContent=k,b=y(),C=x("table"),C.innerHTML=q,P=y(),nt(j.$$.fragment)},l(n){t=$(n,"H1",{"data-svelte-h":!0}),M(t)!=="svelte-rtrtq6"&&(t.textContent=c),o=L(n),a=$(n,"P",{"data-svelte-h":!0}),M(a)!=="svelte-1fxghb2"&&(a.textContent=e),d=L(n),l=$(n,"H2",{"data-svelte-h":!0}),M(l)!=="svelte-1oups7d"&&(l.textContent=h),p=L(n),u=$(n,"P",{"data-svelte-h":!0}),M(u)!=="svelte-19wuz58"&&(u.textContent=k),b=L(n),C=$(n,"TABLE",{"data-svelte-h":!0}),M(C)!=="svelte-w7emaq"&&(C.innerHTML=q),P=L(n),ot(j.$$.fragment,n)},m(n,_){m(n,t,_),m(n,o,_),m(n,a,_),m(n,d,_),m(n,l,_),m(n,p,_),m(n,u,_),m(n,b,_),m(n,C,_),m(n,P,_),rt(j,n,_),T=!0},p:B,i(n){T||(st(j.$$.fragment,n),T=!0)},o(n){ct(j.$$.fragment,n),T=!1},d(n){n&&(f(t),f(o),f(a),f(d),f(l),f(p),f(u),f(b),f(C),f(P)),dt(j,n)}}}function xt(i){let t,c;const o=[i[0],tt];let a={$$slots:{default:[bt]},$$scope:{ctx:i}};for(let e=0;e<o.length;e+=1)a=V(a,o[e]);return t=new _t({props:a}),{c(){nt(t.$$.fragment)},l(e){ot(t.$$.fragment,e)},m(e,d){rt(t,e,d),c=!0},p(e,[d]){const l=d&1?ut(o,[d&1&&J(e[0]),d&0&&J(tt)]):{};d&2&&(l.$$scope={dirty:d,ctx:e}),t.$set(l)},i(e){c||(st(t.$$.fragment,e),c=!0)},o(e){ct(t.$$.fragment,e),c=!1},d(e){dt(t,e)}}}const tt={name:"metadata",layout:"page"};function $t(i,t,c){return i.$$set=o=>{c(0,t=V(V({},t),F(o)))},t=F(t),[t]}class Ot extends at{constructor(t){super(),lt(this,t,$t,xt,et,{})}}export{Ot as component};
